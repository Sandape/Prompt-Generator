# Prompt Generator

一个基于FastAPI的Prompt生成应用，采用Material Design风格，支持用户注册登录和菜单导航。

## 功能特性

- ✅ 用户注册登录（支持邮箱+用户名+密码）
- ✅ 图形验证码注册验证
- ✅ JSON存储（无数据库依赖）
- ✅ 登录日志记录
- ✅ Material Design UI风格
- ✅ 响应式设计
- ✅ 菜单导航
- ✅ **项目空间管理**（新建、编辑、删除，最多5个项目）
- ✅ **任务类型选择**（接口类、机制类、集成类、故障类）
- 🚧 批量转译功能（待开发）
- 🚧 具体任务功能（接口类、机制类、集成类、故障类）

## 技术栈

- **后端**: FastAPI, Uvicorn
- **前端**: HTML5, CSS3, JavaScript
- **模板引擎**: Jinja2
- **样式**: Material Design
- **存储**: JSON文件
- **认证**: JWT Token
- **密码加密**: bcrypt

## 项目结构

```
prompt/
├── main.py                 # 主应用入口
├── models.py              # 数据模型
├── auth.py                # 认证相关
├── storage.py             # JSON存储管理
├── requirements.txt       # 依赖包
├── routers/               # 路由模块
│   ├── auth_router.py     # 认证路由
│   ├── menu_router.py     # 菜单路由
│   ├── project_router.py  # 项目管理路由
│   └── task_router.py     # 任务管理路由
├── templates/             # HTML模板
│   ├── base.html          # 基础模板
│   ├── login.html         # 登录页面
│   ├── register.html      # 注册页面
│   ├── menu.html          # 菜单页面
│   ├── projects.html      # 项目选择页面
│   ├── project_form.html  # 项目表单页面
│   ├── task_types.html    # 任务类型选择页面
│   ├── task_form.html     # 任务表单页面
│   └── not_implemented.html # 未开发页面
├── static/                # 静态文件
│   ├── css/
│   │   └── style.css      # 样式文件
│   ├── js/
│   │   └── main.js        # JavaScript文件
│   └── images/            # 图片资源
├── data/                  # 数据存储目录
│   ├── users.json         # 用户数据
│   └── projects.json      # 项目数据
└── logs/                  # 日志目录
    └── login.log          # 登录日志
```

## 安装和运行

1. **安装依赖**:
   ```bash
   pip install -r requirements.txt
   ```

2. **运行应用**:
   ```bash
   python main.py
   ```

3. **访问应用**:
   打开浏览器访问: http://localhost:8000

## 使用说明

### 注册流程
1. 访问首页自动跳转到登录页面
2. 点击"立即注册"链接进入注册页面
3. 填写邮箱、用户名、密码
4. 输入图形验证码（点击验证码可刷新）
5. 提交注册

### 登录流程
1. 在登录页面输入邮箱和密码
2. 登录成功后跳转到菜单页面
3. 系统会记录登录日志

### 菜单导航
登录后进入菜单页面，包含：
- **批量转译**: 功能待开发
- **单次精译**: 进入项目空间管理
- **退出登录**: 返回登录页面

### 项目空间管理
点击"单次精译"进入项目空间管理页面：
- **新建项目空间**: 创建新项目（最多5个）
- **编辑项目空间**: 修改现有项目信息
- **删除项目空间**: 删除指定项目
- **进入项目空间**: 选择任务类型

### 任务类型选择
进入项目空间后可选择四种任务类型：
- **接口类任务**: 传统的CRUD任务
- **机制类任务**: 配置缓存、定时任务等机制类任务
- **集成类任务**: 例如给项目集成ElasticSearch等中间件任务
- **故障类任务**: 修复bug任务

所有具体任务功能目前显示"待开发"状态。

## 设计特色

### Material Design风格
- 采用Google Material Design设计语言
- 白色背景搭配蓝紫色渐变主题
- 卡片式布局和阴影效果
- 流畅的动画过渡

### 用户体验
- 响应式设计，支持移动端
- 实时表单验证
- 密码可见性切换
- 验证码刷新功能
- 错误信息友好提示

## 数据存储

- **用户数据**: 存储在 `data/users.json`
- **项目数据**: 存储在 `data/projects.json`
- **登录日志**: 记录在 `logs/login.log`
- 支持自动创建必要的目录和文件
- 每个用户最多可创建5个项目空间

## 安全特性

- 密码bcrypt加密存储
- JWT Token认证
- 图形验证码防止自动化注册
- 登录日志记录
- XSS防护

## 开发说明

应用采用前后端分离架构：
- 后端API返回HTML页面（非REST API设计）
- 前端使用原生JavaScript处理交互
- 模板继承支持代码复用

## 后续开发计划

- [ ] 实现批量转译功能
- [ ] 实现接口类任务具体功能
- [ ] 实现机制类任务具体功能
- [ ] 实现集成类任务具体功能
- [ ] 实现故障类任务具体功能
- [ ] 添加用户设置页面
- [ ] 支持密码重置
- [ ] 添加管理员功能
- [ ] 项目数据导入导出功能
